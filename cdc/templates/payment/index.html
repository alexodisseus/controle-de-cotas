{% extends "base.html" %}

{% block styles %}
    <!-- Bootstrap CSS -->
    {{ bootstrap.load_css() }}
    <link rel="stylesheet"
                  href="{{url_for('static', filename='index.css')}}">
{% endblock %}
{% block content %}

<nav class="navbar navbar-sec bg-dark">
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav2" aria-controls="navbarNav2" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav2">
        <ul class="navbar-nav">
            <li class="nav-item active">
                <a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#">Link</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#">Link</a>
            </li>
        </ul>
    </div>
</nav>



<div class="container mt-5">
  <form>
    <div class="form-row">
      <div class="form-group col-md-2">
        <label for="acao">Ação</label>
        <input type="text" class="form-control" id="acao">
      </div>
      <div class="form-group col-md-2">
        <label for="data">Data</label>
        <input type="date" class="form-control" id="data">
      </div>
      <div class="form-group col-md-2">
        <label for="banco">Banco</label>
        <input type="text" class="form-control" id="banco">
      </div>
      <div class="form-group col-md-2">
        <label for="agencia">Agência</label>
        <input type="text" class="form-control" id="agencia">
      </div>
      <div class="form-group col-md-2">
        <label for="conta">Conta</label>
        <input type="text" class="form-control" id="conta">
      </div>
      <div class="form-group col-md-2">
        <label for="codigo">Código</label>
        <input type="text" class="form-control" id="codigo">
      </div>
    </div>

    <div class="form-row">
      <div class="form-group col-md-4">
        <label for="nome">Nome</label>
        <input type="text" class="form-control" id="nome">
      </div>
      <div class="form-group col-md-2">
        <label for="quantidade">Quantidade</label>
        <input type="text" class="form-control" id="quantidade">
      </div>
      <div class="form-group col-md-2">
        <label for="valorBruto">Valor Bruto</label>
        <input type="text" class="form-control" id="valorBruto">
      </div>
      <div class="form-group col-md-2">
        <label for="valorLiquido">Valor Líquido</label>
        <input type="text" class="form-control" id="valorLiquido">
      </div>
      <div class="form-group col-md-2">
        <label for="status">Status</label>
        <select id="status" class="form-control">
          <option value="ativo">Ativo</option>
          <option value="inativo">Inativo</option>
        </select>
      </div>
    </div>

    <button type="submit" class="btn btn-primary">Filtrar</button>
  </form>
</div>
<div class="collapse" id="navbarToggleExternalContent" data-bs-theme="dark">
  <div class="bg-dark p-4">
    <h5 class="text-body-emphasis h4">Collapsed content</h5>
    <span class="text-body-secondary">Toggleable via the navbar brand.</span>
  </div>
</div>




<div class="container mt-3">
  <h2>Seleção para pagamento</h2>

  <div class="card mt-3 ">
    <div class="card-header d-flex justify-content-between align-items-center">
      Todos detalhes
      <div class="btn-group" role="group" aria-label="Ações">
            
            <button type="submit" class="btn btn-primary">Pagar</button>
            </a>
          </div>
    </div>

      <div class="table-responsive">
    
        <table id="tabela" class="table">
      <thead>
        <tr>
          <th scope="col">Ação</th>

          <th scope="col">Data</th>
          <th scope="col">Banco</th>
          <th scope="col">Agencia</th>
          <th scope="col">Conta</th>
          <th scope="col">Código</th>
          <th scope="col">Nome</th>
          <th scope="col">Quantidade</th>
          <th scope="col">Valor bruto</th>
          <th scope="col">Valor liquido</th>
          <th scope="col">Status</th>
        </tr>
      </thead>
      <tbody id="tabelabody">
        {%if data:%}
        {%for x in data:%}
        {% set valor1 = x.ReportPayment.value | int %}
        {% set valor2 = x.ReportPayment.amount | int %}
        <tr>
          <td><input name="{{x.ReportPayment.id}}" type="checkbox"></td>
          
          <td>{{x.ReportPayment.date}}</td>
          <td>{{x[2].name_bank}}</td>
          <td>{{x[2].agency}}</td>
          <td>{{x[2].number_account }}</td>
          <td>
            <a href="{{url_for('shareholder.view', id=x[1].id )}}">
              
              {{x[1].code}}
            </a>
          </td>

          <td>{{x[1].name}}</td>
          <td>{{x[0].amount}}</td>
          <td>R$ {{valor1*valor2}}</td>
            {%if x.User.income_tax == "S":%}
            <td>R$ {{ tribute(valor1*valor2,dtribute)}}</td>
            {%else:%}
            <td>R$ {{valor1*valor2}}</td>

            {%endif%}
          <td>{{x[0].status}}</td>
        </tr>
        {%endfor%}
        {%endif%}
        <!-- Adicione mais linhas conforme necessário -->
      </tbody>
    </table>
  </div>
  </div>
  <ul class="pagination justify-content-center mt-3">
    <button class="btn btn-primary" id="carregar">Carregar mais</button>
  </ul>


  <!-- Adicione mais blocos de código para outros bancos, se necessário -->

</div>


{% endblock %}